* Insights
** TODO Figure out how to turn game histories into pattern times

** Getting games with history from a sqlite db into a tsv file:
sqlite3 phone-2012-07-08.db <<END
.mode tabs
.output games-phone-2012-07-08.tsv
select p.puzzle, g.history from puzzle p, game g where g.puzzleId = p._id and g.gameState >= 3;
END

* Game
** TODO Rename getState to... what?

* App

** App/UI cleanups
*** TODO Improve layout on tablets
    - make play grid larger, replay grid smaller; max ~30% differential
    - ensure capture grid matches play grid
*** TODO Finish help content
*** TODO bug: somehow wound up getting shown completed puzzles
    - each time I started the app it advanced 3-4 in the history
    - find and fix the bug; but also harden the fragment against future similar
      bugs, by _not_ updating the DB when it gets a complete attempt
    - no idea, but did try to make sure the fragment doesn't write these back to the db
    - ok, I may have an idea: it may be that the generation counter got reset somehow
*** TODO Look into sending crash info to the app engine
*** TODO Give visual indication when try to set an unsettable location
*** TODO Make translation of symmetry names possible
*** TODO Change behavior of capture when we already have the puzzle
    - Include a link to the puzzle details

** Publishing the app
*** TODO Make release keys
*** TODO Register api key using release keys
*** TODO Include app's android:versionCode in installation data
*** TODO Make other graphics for play store

** Cross-installation work
*** TODO At startup on new installation, show settings page
    - with some introductory help?
*** TODO Add pref for whether to sync from other devices
    - dependent on selecting an account

** Replay cleanups
*** TODO Revise calculation and display of disproofs
    - find all disproofs (not just one per open location)
    - don't minimize them right away
    - add a new phase to calculate the efficacy of each disproof: the proportion
      of open locations that get assignments when insights are gathered after
      the disproof is applied
    - show the efficacy as hue between purple (least) and blue (most)
    - for locations with disproofs not yet evaluated for efficacy, use orange
    - for a given location, display the most effective disproof
    - use saturation/value to show length of disproof; so will get brighter
      after minimization
*** TODO Wrong-numeral mistakes show without the error during single-step playback
    - the error appears while running forward
*** TODO Try making selection color darker
*** TODO Try not minimizing disproofs until they're selected
*** TODO Why does the first trail in puzzle 14 switch errors?
*** TODO Analysis getting cropped early when use the slider
    - Leftover thread interruption?
*** TODO Automatically pause the replay on switch of trail, just after the move
    - Or, rethink this.  Not clear it would be helpful.
    - It would be nice to be able to jump past trail switches
*** TODO Bug: analysis not being interrupted
    - No longer seeing this?
*** TODO Clearing the present insight should clear the selected location too
    - should it also clear the error displayed?
    - or possibly everything but the nub of the error?
*** TODO Think about animation of insight display
    - for complex implications, this could help the visualization

** List view ideas
*** TODO Add a count to the list spinner: #puzzles in collection
*** TODO Handle the importing of collections of puzzles
    - Add an activity that's triggered by .sdm files
    - Change the way we set up new attempts: look for attempt-less puzzles and queue one
    - Still want to generate new puzzles: add a pref for how often to do this, as
      a number between 0 and 1 (probably with 4-5 discrete choices: never,
      occasionally, etc)
*** TODO Consider supporting other selection-based operations on the list: deletion, exporting


* App engine app

** Push notifications to phone
   - Recommended puzzle
   - Other installation info updated

** The web app
   - sample puzzles?
   - stats? num puzzles? num installations? num users? rates of change?
   - for logged-in users, info about their stuff

* Math
** Pathological grids
   - How bad can they get?
*** TODO Solve one in the debugger, see what's going on

** Canonical grids
   - How to compare two grids for equivalence?
   - Possible permutations that preserve constraints:
     - transposition
     - permutation of numerals
     - permutation of block-rows or block-columns
     - permutation of rows within a block-row or columns within a block-column
     - rotation (can it be expressed by the others? -- yes)
*** TODO Re-read the "how many sudokus" paper
    - Canonical grid?

* References
** J. F. Crook: A Pencil-and-Paper Algorithm for Solving Sudoku Puzzles
   - http://www.ams.org/notices/200904/tx090400460p.pdf
   - The trails approach, essentially, including different colors
** George A. Miller:
   - http://en.wikipedia.org/wiki/The_Magical_Number_Seven,_Plus_or_Minus_Two
   - ~7 chunks of information in working memory
   - The other dimension where 7 appears is ~7 levels of absolute judgement, eg
     loudness of a sound, or pitch, or location along a line.  This really
     _doesn't_ apply to Sudoku.  It's all working memory.
